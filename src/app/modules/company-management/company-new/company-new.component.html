<div
  class="container-fluid"
  style="margin: 5px 0; padding-right: 0px; padding-left: 0px"
>
  <div
    *ngIf="permission$ | async as payload"
    class="row justify-content-center align-items-center"
  >
    <div class="" style="padding-right: 0px; padding-left: 0px">
      <div
        class="card col-12"
        [ngStyle]="{
          border: '1px solid ' + formBgColor,
          'background-color': formBgColor,
          color: formFontColor || 'black',
          'font-family': formFont || 'Times New Roman, Times, serif'
        }"
      >
        <div
          *ngIf="payload.companyManagement.company.menuAccess"
          class="card-body box"
          style="overflow: auto"
        >
          <div
            class="card"
            [ngStyle]="{
              border: '1px solid ' + formBgColor,
              'background-color': formBgColor,
              color: formFontColor || 'black',
              'font-family': formFont || 'Times New Roman, Times, serif'
            }"
          >
            <div class="card-header">
              <app-title title="Add New Company" size="lg"></app-title>
            </div>
            <div class="card-body">
              <form [formGroup]="companyNewForm">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                  <div class="row">
                    <!-- <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"> -->
                    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6">
                      <div class="row mb-3">
                        <mat-form-field class="col-12" appearance="outline"
                          ><mat-label
                            [ngStyle]="{
                              color: formFontColor || 'black',

                              'font-family':
                                formFont || 'Times New Roman, Times, serif'
                            }"
                            >Name</mat-label
                          >
                          <input
                            matInput
                            [ngStyle]="{
                              color: formFontColor || 'black',
                              'background-color': formBgColor
                            }"
                            placeholder="Company Name"
                            formControlName="companyName"
                        /></mat-form-field>

                        <app-control-error
                          *ngIf="
                            companyNewForm.get('companyName').invalid &&
                            companyNewForm.get('companyName').touched
                          "
                        >
                          <span
                            *ngIf="
                              companyNewForm.get('companyName').errors.required
                            "
                          >
                            This field is required.
                          </span>
                          <span
                            *ngIf="
                              companyNewForm.get('companyName').errors
                                .companyExist
                            "
                          >
                            The company name is already in use
                          </span>
                        </app-control-error>
                      </div>

                      <div class="row mb-3">
                        <mat-form-field class="col-12" appearance="outline"
                          ><mat-label
                            [ngStyle]="{
                              color: formFontColor || 'black',

                              'font-family':
                                formFont || 'Times New Roman, Times, serif'
                            }"
                            >Description</mat-label
                          >
                          <input
                            matInput
                            [ngStyle]="{
                              color: formFontColor || 'black',
                              'background-color': formBgColor
                            }"
                            placeholder="Company Description"
                            formControlName="companyDesc"
                        /></mat-form-field>

                        <app-control-error
                          *ngIf="
                            companyNewForm.get('companyDesc').invalid &&
                            companyNewForm.get('companyDesc').touched
                          "
                        >
                          <span
                            *ngIf="
                              companyNewForm.get('companyDesc').errors.required
                            "
                          >
                            This field is required.
                          </span>
                        </app-control-error>
                      </div>

                      <div class="row mb-3">
                        <mat-form-field class="col-12" appearance="outline"
                          ><mat-label
                            [ngStyle]="{
                              color: formFontColor || 'black',

                              'font-family':
                                formFont || 'Times New Roman, Times, serif'
                            }"
                            >Time Zone</mat-label
                          >
                          <input
                            matInput
                            [ngStyle]="{
                              color: formFontColor || 'black',
                              'background-color': formBgColor
                            }"
                            placeholder="Time Zone"
                            formControlName="timeZone"
                        /></mat-form-field>

                        <app-control-error
                          *ngIf="
                            companyNewForm.get('timeZone').invalid &&
                            companyNewForm.get('timeZone').touched
                          "
                        >
                          <span
                            *ngIf="
                              companyNewForm.get('timeZone').errors.required
                            "
                          >
                            This field is required.
                          </span>
                        </app-control-error>
                      </div>

                      <div class="row mb-3">
                        <mat-form-field class="col-12" appearance="outline"
                          ><mat-label
                            [ngStyle]="{
                              color: formFontColor || 'black',

                              'font-family':
                                formFont || 'Times New Roman, Times, serif'
                            }"
                            >Address 1</mat-label
                          >
                          <input
                            matInput
                            [ngStyle]="{
                              color: formFontColor || 'black',
                              'background-color': formBgColor
                            }"
                            placeholder="Address 1"
                            formControlName="companyAddress1"
                        /></mat-form-field>
                        <app-control-error
                          *ngIf="
                            companyNewForm.get('companyAddress1').invalid &&
                            companyNewForm.get('companyAddress1').touched
                          "
                        >
                          <span
                            *ngIf="
                              companyNewForm.get('companyAddress1').errors
                                .required
                            "
                          >
                            This field is required.
                          </span>
                        </app-control-error>
                      </div>

                      <div class="row mb-3">
                        <mat-form-field class="col-12" appearance="outline"
                          ><mat-label
                            [ngStyle]="{
                              color: formFontColor || 'black',

                              'font-family':
                                formFont || 'Times New Roman, Times, serif'
                            }"
                            >Address 2</mat-label
                          >
                          <input
                            matInput
                            [ngStyle]="{
                              color: formFontColor || 'black',
                              'background-color': formBgColor
                            }"
                            placeholder="Address 2"
                            formControlName="companyAddress2"
                        /></mat-form-field>

                        <app-control-error
                          *ngIf="
                            companyNewForm.get('companyAddress2').invalid &&
                            companyNewForm.get('companyAddress2').touched
                          "
                        >
                          <span
                            *ngIf="
                              companyNewForm.get('companyAddress2').errors
                                .required
                            "
                          >
                            This field is required.
                          </span>
                        </app-control-error>
                      </div>

                      <div class="row mb-3">
                        <mat-form-field class="col-12" appearance="outline"
                          ><mat-label
                            [ngStyle]="{
                              color: formFontColor || 'black',

                              'font-family':
                                formFont || 'Times New Roman, Times, serif'
                            }"
                            >Phone Number</mat-label
                          >
                          <input
                            matInput
                            [ngStyle]="{
                              color: formFontColor || 'black',
                              'background-color': formBgColor
                            }"
                            placeholder="Phone Number"
                            formControlName="adminPryPhoneNo"
                        /></mat-form-field>

                        <app-control-error
                          *ngIf="
                            companyNewForm.get('adminPryPhoneNo').invalid &&
                            companyNewForm.get('adminPryPhoneNo').touched
                          "
                        >
                          <span
                            *ngIf="
                              companyNewForm.get('adminPryPhoneNo').errors
                                .required
                            "
                          >
                            This field is required.
                          </span>
                        </app-control-error>
                      </div>
                    </div>

                    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6">
                      <div class="row mb-3">
                        <mat-form-field class="col-12" appearance="outline"
                          ><mat-label
                            [ngStyle]="{
                              color: formFontColor || 'black',

                              'font-family':
                                formFont || 'Times New Roman, Times, serif'
                            }"
                            >Alternate Phone Number</mat-label
                          >
                          <input
                            matInput
                            [ngStyle]="{
                              color: formFontColor || 'black',
                              'background-color': formBgColor
                            }"
                            placeholder="Alternate Phone Number"
                            formControlName="adminAltPhoneNo"
                        /></mat-form-field>

                        <app-control-error
                          *ngIf="
                            companyNewForm.get('adminAltPhoneNo').invalid &&
                            companyNewForm.get('adminAltPhoneNo').touched
                          "
                        >
                          <span
                            *ngIf="
                              companyNewForm.get('adminAltPhoneNo').errors
                                .required
                            "
                          >
                            This field is required.
                          </span>
                        </app-control-error>
                      </div>
                      <div class="row mb-3">
                        <mat-form-field class="col-12" appearance="outline"
                          ><mat-label
                            [ngStyle]="{
                              color: formFontColor || 'black',

                              'font-family':
                                formFont || 'Times New Roman, Times, serif'
                            }"
                            >Company Domain</mat-label
                          >
                          <input
                            matInput
                            [ngStyle]="{
                              color: formFontColor || 'black',
                              'background-color': formBgColor
                            }"
                            placeholder="Company Domain"
                            formControlName="companyAlias"
                        /></mat-form-field>

                        <app-control-error
                          *ngIf="
                            companyNewForm.get('companyAlias').invalid &&
                            companyNewForm.get('companyAlias').touched
                          "
                        >
                          <span
                            *ngIf="
                              companyNewForm.get('companyAlias').errors.required
                            "
                          >
                            This field is required.
                          </span>
                          <span
                            *ngIf="
                              companyNewForm.get('companyAlias').errors
                                .minlength
                            "
                          >
                            Domain is too short, atleast four characters long
                          </span>

                          <span
                            *ngIf="
                              companyNewForm.get('companyAlias').errors
                                .domainExist
                            "
                          >
                            The domain is already in use
                          </span>
                        </app-control-error>
                      </div>
                      <div class="row mb-3">
                        <div>
                          <app-status-field
                            formControlName="statusId"
                            placeholder="Select Company Status..."
                            [new]="true"
                            (selectionChange)="
                              companyNewForm.patchValue({
                                statusId: $event.value
                              })
                            "
                          ></app-status-field>
                          <app-control-error
                            *ngIf="
                              companyNewForm.get('statusId').invalid &&
                              companyNewForm.get('statusId').touched
                            "
                          >
                            <span
                              *ngIf="
                                companyNewForm.get('statusId').errors.required
                              "
                            >
                              This field is required.
                            </span>
                          </app-control-error>
                        </div>
                      </div>
                      <div class="row mb-3">
                        <div>
                          <app-company-type-field
                            formControlName="companyTypeId"
                            placeholder="Select Company Type..."
                            [selectable]="true"
                            (selectionChange)="
                              companyNewForm.patchValue({
                                companyTypeId: $event.value
                              })
                            "
                          ></app-company-type-field>
                          <app-control-error
                            *ngIf="
                              companyNewForm.get('companyTypeId').invalid &&
                              companyNewForm.get('companyTypeId').touched
                            "
                          >
                            <span
                              *ngIf="
                                companyNewForm.get('companyTypeId').errors
                                  .required
                              "
                            >
                              This field is required.
                            </span>
                          </app-control-error>
                        </div>
                      </div>
                      <div class="row mb-3">
                        <div>
                          <app-country-field
                            formControlName="countryId"
                            placeholder="Select Country..."
                            [selectable]="true"
                            (selectionChange)="
                              companyNewForm.patchValue({
                                countryId: $event.value
                              })
                            "
                          ></app-country-field>
                          <app-control-error
                            *ngIf="
                              companyNewForm.get('countryId').invalid &&
                              companyNewForm.get('countryId').touched
                            "
                          >
                            <span
                              *ngIf="
                                companyNewForm.get('countryId').errors.required
                              "
                            >
                              This field is required.
                            </span>
                          </app-control-error>
                        </div>
                      </div>
                      <div class="row mb-3">
                        <mat-form-field class="col-12" appearance="outline"
                          ><mat-label
                            [ngStyle]="{
                              color: formFontColor || 'black',

                              'font-family':
                                formFont || 'Times New Roman, Times, serif'
                            }"
                            >Admin Email</mat-label
                          >
                          <input
                            matInput
                            [ngStyle]="{
                              color: formFontColor || 'black',
                              'background-color': formBgColor
                            }"
                            placeholder="Admin Email"
                            formControlName="adminEmail"
                        /></mat-form-field>

                        <app-control-error
                          *ngIf="
                            companyNewForm.get('adminEmail').invalid &&
                            companyNewForm.get('adminEmail').touched
                          "
                        >
                          <span
                            *ngIf="
                              companyNewForm.get('adminEmail').errors.required
                            "
                          >
                            This field is required.
                          </span>
                          <span
                            *ngIf="
                              companyNewForm.get('adminEmail').errors.email
                            "
                          >
                            Enter a valid Email
                          </span>
                        </app-control-error>
                      </div>
                    </div>
                    <!-- </div> -->
                  </div>

                  <div class="container-fluid">
                    <div class="row rowing">
                      <div class="col" style="padding: 1em 0">
                        <!-- <button
                      (click)="cancel()"
                      type="button"
                      class="btn btn-danger"
                    >
                      Cancel
                    </button>  -->
                        <button
                          [ngStyle]="{
                            backgroundColor: '#fff',
                            width: '10em',
                            color: '#' + (primaryColour || '3D95F7'),
                            fontSize: '16px',
                            border: '1px solid #' + (primaryColour || '3D95F7'),
                            borderRadius: '10px',
                            height: '35px'
                          }"
                          (click)="cancel()"
                        >
                          Cancel
                        </button>

                        <button
                          class="float-end"
                          [disabled]="!companyNewForm.valid"
                          *ngIf="payload.companyManagement.company.creater"
                          [ngStyle]="{
                            backgroundColor: '#' + (primaryColour || '3D95F7'),
                            width: '10em',
                            color: '#ffffff',
                            fontSize: '16px',
                            border: '0',
                            borderRadius: '10px',
                            height: '35px'
                          }"
                          (click)="submit()"
                        >
                          Submit
                        </button>
                        <!-- <button
                      [hidden]="!payload.companyManagement.company.creater"
                      [disabled]="!companyNewForm.valid"
                      (click)="submit()"
                      type="button"
                      class="btn btn-success ms-2 float-end"
                    >
                      Submit
                    </button> -->
                        <!-- </div> -->
                      </div>
                    </div>
                  </div>

                  <!-- <div class="row">

          </div> -->
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
