<div
  class="p-3"
  [ngStyle]="{
    'background-color': formBgColor,
    color: formFontColor || 'black',
    'font-family': formFont || 'Times New Roman, Times, serif'
  }"
>
  <div class="mb2">
    <app-title title="Add Location" size="lg"></app-title>
  </div>
  <hr />
  <form [formGroup]="form" *ngIf="saveLocation$ | progress | async">
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
      <div class="row" *ngIf="editable">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
          <div class="row mb-2 align-items-center">
            <div class="col-sm-12 col-lg-6">
              <div class="row align-items-center">
                <mat-form-field class="col-12" appearance="outline">
                  <mat-label
                    [ngStyle]="{
                      'font-family': formFont || 'Times New Roman, Times, serif',
                      color: formFontColor || 'black'
                    }"
                    >Location Name</mat-label
                  >
                  <input 
                    matInput
                    placeholder="Location Name"
                    formControlName="locationName"
                    [ngStyle]="{
                      color: formFontColor || 'black',
                      'font-family': formFont || 'Times New Roman, Times, serif',
                      'background-color': formBgColor
                    }"
                  />
                </mat-form-field>
                <app-control-error
                  *ngIf="
                    form.get('locationName').invalid &&
                    form.get('locationName').touched
                  "
                >
                  <span *ngIf="form.get('locationName').errors.required"
                    >This field is required.</span
                  >
                </app-control-error>
                <!-- <div class="col-4">
                  <label class="form-check-label">Location Name</label
                  ><label style="color: red">*</label>
                </div>
                <div class="col-7">
                  <input
                    class="form-control"
                    placeholder="Location Name"
                    formControlName="locationName"
                    [ngStyle]="{
                      color: formFontColor || 'black',
                      'background-color': formBgColor,
                      'border-bottom': '1px solid ' + formFontColor
                    }"
                  />
                </div> -->
              </div>
            </div>
            <div class="col-sm-12 col-lg-6">
              <div class="row align-items-center">
                <mat-form-field class="col-12" appearance="outline">
                  <mat-label
                    [ngStyle]="{
                      'font-family': formFont || 'Times New Roman, Times, serif',
                      color: formFontColor || 'black'
                    }"
                    >Postal Code</mat-label
                  >
                  <input
                    matInput
                    placeholder="Postal Code"
                    formControlName="postalCode"
                    [ngStyle]="{
                      color: formFontColor || 'black',
                      'font-family': formFont || 'Times New Roman, Times, serif',
                      'background-color': formBgColor
                    }"
                  />
                </mat-form-field>
                <!-- <div class="col-4">
                  <label class="form-check-label">Postal Code</label
                  ><label style="color: red">*</label>
                </div>
                <div class="col-7">
                  <input
                    class="form-control"
                    placeholder="Postal Code"
                    formControlName="postalCode"
                    [ngStyle]="{
                      color: formFontColor || 'black',
                      'background-color': formBgColor,
                      'border-bottom': '1px solid ' + formFontColor
                    }"
                  />
                </div> -->
              </div>
            </div>
          </div>

          <div class="row mb-2 align-items-center">
            <div class="col-sm-12 col-lg-6">
              <div class="row align-items-center">
                <mat-form-field class="col-12" appearance="outline">
                  <mat-label
                    [ngStyle]="{
                      'font-family': formFont || 'Times New Roman, Times, serif',
                      color: formFontColor || 'black'
                    }"
                    >Description</mat-label
                  >
                  <input
                    matInput
                    placeholder="Description"
                    formControlName="locationDesc"
                    [ngStyle]="{
                      color: formFontColor || 'black',
                      'background-color': formBgColor,
                      'font-family': formFont || 'Times New Roman, Times, serif'
                    }"
                  />
                </mat-form-field>
                <app-control-error
                  *ngIf="
                    form.get('locationDesc').invalid &&
                    form.get('locationDesc').touched
                  "
                >
                  <span *ngIf="form.get('locationDesc').errors.required"
                    >This field is required.</span
                  >
                </app-control-error>
                <!-- <div class="col-4">
                  <label class="form-check-label">Description</label
                  ><label style="color: red">*</label>
                </div>
                <div class="col-7">
                  <input
                    class="form-control"
                    placeholder="Description"
                    formControlName="locationDesc"
                    [ngStyle]="{
                      color: formFontColor || 'black',
                      'background-color': formBgColor,
                      'border-bottom': '1px solid ' + formFontColor
                    }"
                  />
                </div> -->
              </div>
            </div>
            <div class="col-sm-12 col-lg-6">
              <div class="row align-items-center">
                <div class="col-12">
                  <app-state-field
                    formControlName="stateId"
                    placeholder="Select State..."
                    new="true"
                    (selectionChange)="changeState($event)"
                  >
                  </app-state-field>
                  <app-control-error
                    *ngIf="
                      form.get('stateId').invalid && form.get('stateId').touched
                    "
                  >
                    <span *ngIf="form.get('stateId').errors.required"
                      >This field is required.</span
                    >
                  </app-control-error>
                  <!-- <div class="col-4">
                  <label class="form-check-label">State</label
                  ><label style="color: red">*</label>
                </div> -->
                </div>
              </div>
            </div>
          </div>

          <div class="row mb-2 align-items-center">
            <div class="col-sm-12 col-lg-6">
              <div class="row align-items-center">
                <mat-form-field class="col-12" appearance="outline">
                  <mat-label
                    [ngStyle]="{
                      'font-family': formFont || 'Times New Roman, Times, serif',
                      color: formFontColor || 'black'
                    }"
                    >Address 1</mat-label
                  >
                  <input
                    matInput
                    placeholder="Address 1"
                    formControlName="locAddress1"
                    [ngStyle]="{
                      color: formFontColor || 'black',
                      'font-family': formFont || 'Times New Roman, Times, serif',
                      'background-color': formBgColor
                    }"
                  />
                </mat-form-field>
                <app-control-error
                  *ngIf="
                    form.get('locAddress1').invalid &&
                    form.get('locAddress1').touched
                  "
                >
                  <span *ngIf="form.get('locAddress1').errors.required"
                    >This field is required.</span
                  >
                </app-control-error>
                <!-- <div class="col-4">
                  <label class="form-check-label">Address 1</label
                  ><label style="color: red">*</label>
                </div>
                <div class="col-7">
                  <input
                    class="form-control"
                    placeholder="Address 1"
                    formControlName="locAddress1"
                    [ngStyle]="{
                      color: formFontColor || 'black',
                      'background-color': formBgColor,
                      'border-bottom': '1px solid ' + formFontColor
                    }"
                  />
                </div> -->
              </div>
            </div>
            <div class="col-sm-12 col-lg-6">
              <div class="row align-items-center">
                <div class="col-12">
                  <app-city-field
                    formControlName="cityId"
                    [stateId]="form.value?.stateId"
                    placeholder="Select City..."
                    new="true"
                    (selectionChange)="changeCity($event)"
                  >
                  </app-city-field>
                  <app-control-error
                    *ngIf="
                      form.get('cityId').invalid && form.get('cityId').touched
                    "
                  >
                    <span *ngIf="form.get('cityId').errors.required"
                      >This field is required.</span
                    >
                  </app-control-error>
                  <!-- <div class="col-4">
                  <label class="form-check-label">City</label
                  ><label style="color: red">*</label>
                </div> -->
                </div>
              </div>
            </div>
          </div>

          <div class="row mb-2 align-items-center">
            <div class="col-sm-12 col-lg-6">
              <div class="row align-items-center">
                <mat-form-field class="col-12" appearance="outline">
                  <mat-label
                    [ngStyle]="{
                      'font-family': formFont || 'Times New Roman, Times, serif',
                      color: formFontColor || 'black'
                    }"
                    >Address 2</mat-label
                  >
                  <input
                    matInput
                    placeholder="Address 2"
                    formControlName="locAddress2"
                    [ngStyle]="{
                      color: formFontColor || 'black',
                      'font-family': formFont || 'Times New Roman, Times, serif',
                      'background-color': formBgColor
                    }"
                  />
                </mat-form-field>
                <app-control-error
                  *ngIf="
                    form.get('locAddress2').invalid &&
                    form.get('locAddress2').touched
                  "
                >
                  <span *ngIf="form.get('locAddress2').errors.required"
                    >This field is required.</span
                  >
                </app-control-error>
                <!-- <div class="col-4">
                  <label class="form-check-label">Address 2</label
                  ><label style="color: red">*</label>
                </div>
                <div class="col-7">
                  <input
                    class="form-control"
                    placeholder="Address 2"
                    formControlName="locAddress2"
                    [ngStyle]="{
                      color: formFontColor || 'black',
                      'background-color': formBgColor,
                      'border-bottom': '1px solid ' + formFontColor
                    }"
                  />
                  
                </div> -->
              </div>
            </div>
            <div class="col-sm-12 col-lg-6">
              <div class="row align-items-center">
                <div class="col-12">
                  <app-status-field
                    formControlName="statusId"
                    placeholder="Select Status..."
                    new="true"
                    (selectionChange)="changeStatus($event)"
                  >
                  </app-status-field>
                  <app-control-error
                    *ngIf="
                      form.get('statusId').invalid &&
                      form.get('statusId').touched
                    "
                  >
                    <span *ngIf="form.get('statusId').errors.required"
                      >This field is required.</span
                    >
                  </app-control-error>
                </div>
              </div>
              <!-- <div class="col-4">
                <label class="form-check-label">Status</label
                ><label style="color: red">*</label>
              </div> -->
            </div>
          </div>
        </div>
      </div>
      <hr />

      <div class="row align-items-center">
        <div class="col">
          <button
            (click)="closeHandler()"
            type="button"
            [ngStyle]="{
              backgroundColor: '#fff',
              width: '10em',
              color: '#' + (primaryColour || '3D95F7'),
              fontSize: '16px',
              border: '1px solid #' + (primaryColour || '3D95F7'),
              borderRadius: '10px',
              height: '35px'
            }"
          >
            Cancel
          </button>
          <!-- [disabled]="!form.valid" -->
          <button
            type="button"
            *ngIf="editable"
            (click)="saveHandler()"
            type="button"
            class="ms-2 float-end"
            [ngStyle]="{
              backgroundColor: '#' + (primaryColour || '3D95F7'),
              width: '10em',
              color: '#ffffff',
              fontSize: '16px',
              border: '0',
              borderRadius: '10px',
              height: '35px'
            }"
          >
            Submit
          </button>
        </div>
      </div>
    </div>
  </form>
</div>
